UPDATE `quest_template` SET `PrevQuestId`='25578', `NextQuestId`='25255' WHERE (`Id`='25584');
UPDATE `quest_template` SET `PrevQuestId`='25319', `NextQuestId`='25842' WHERE (`Id`='25830');

UPDATE `quest_template` SET `PrevQuestId`='25276' WHERE (`Id`='25223');
UPDATE `quest_template` SET `PrevQuestId`='25276' WHERE (`Id`='25224');
UPDATE `quest_template` SET `PrevQuestId`='25578' WHERE (`Id`='25233');
UPDATE `quest_template` SET `PrevQuestId`='25578' WHERE (`Id`='25234');
UPDATE `quest_template` SET `PrevQuestId`='25233', `NextQuestId`='25271' WHERE (`Id`='25268');
UPDATE `quest_template` SET `PrevQuestId`='25233', `NextQuestId`='25270' WHERE (`Id`='25269');
UPDATE `quest_template` SET `PrevQuestId`='25272', `NextQuestId`='25277' WHERE (`Id`='25279');
UPDATE `quest_template` SET `PrevQuestId`='25578', `NextQuestId`='25278' WHERE (`Id`='25280');
UPDATE `quest_template` SET `PrevQuestId`='25223', `NextQuestId`='25509' WHERE (`Id`='25291');
UPDATE `quest_template` SET `PrevQuestId`='25223', `NextQuestId`='25494' WHERE (`Id`='25294');
UPDATE `quest_template` SET `PrevQuestId`='25223', `NextQuestId`='25308' WHERE (`Id`='25296');
UPDATE `quest_template` SET `NextQuestId`='25298' WHERE (`Id`='25297');
UPDATE `quest_template` SET `PrevQuestId`='25499' WHERE (`Id`='25299');
UPDATE `quest_template` SET `PrevQuestId`='25499' WHERE (`Id`='25299');
UPDATE `quest_template` SET `NextQuestId`='25303' WHERE (`Id`='25301');
UPDATE `quest_template` SET `NextQuestId`='25312' WHERE (`Id`='25303');
UPDATE `quest_template` SET `PrevQuestId`='25299' WHERE (`Id`='25309');
UPDATE `quest_template` SET `PrevQuestId`='25309' WHERE (`Id`='25310');
UPDATE `quest_template` SET `PrevQuestId`='25309' WHERE (`Id`='25311');
UPDATE `quest_template` SET `PrevQuestId`='25310' WHERE (`Id`='25314');
UPDATE `quest_template` SET `NextQuestId`='25531' WHERE (`Id`='25315');
UPDATE `quest_template` SET `NextQuestId`='25317' WHERE (`Id`='25316');
UPDATE `quest_template` SET `PrevQuestId`='25278' WHERE (`Id`='25328');
UPDATE `quest_template` SET `PrevQuestId`='25276' WHERE (`Id`='25330');
UPDATE `quest_template` SET `PrevQuestId`='25278' WHERE (`Id`='25332');
UPDATE `quest_template` SET `PrevQuestId`='25312' WHERE (`Id`='25352');
UPDATE `quest_template` SET `PrevQuestId`='25312' WHERE (`Id`='25353');
UPDATE `quest_template` SET `PrevQuestId`='25312', `NextQuestId`='25617' WHERE (`Id`='25355');
UPDATE `quest_template` SET `PrevQuestId`='25316' WHERE (`Id`='25370');
UPDATE `quest_template` SET `PrevQuestId`='25630', `NextQuestId`='25940' WHERE (`Id`='25382');
UPDATE `quest_template` SET `PrevQuestId`='25630', `NextQuestId`='25392' WHERE (`Id`='25385');
UPDATE `quest_template` SET `PrevQuestId`='25630' WHERE (`Id`='25404');
UPDATE `quest_template` SET `PrevQuestId`='25464', `NextQuestId`='25320' WHERE (`Id`='25430');
UPDATE `quest_template` SET `PrevQuestId`='25608', `NextQuestId`='25552' WHERE (`Id`='25644');
UPDATE `quest_template` SET `PrevQuestId`='25578' WHERE (`Id`='25655');
UPDATE `quest_template` SET `PrevQuestId`='25578' WHERE (`Id`='25656');
UPDATE `quest_template` SET `PrevQuestId`='29326' WHERE (`Id`='29437');
UPDATE `quest_template` SET `PrevQuestId`='25578' WHERE (`Id`='27874');
UPDATE `quest_template` SET `PrevQuestId`='25578' WHERE (`Id`='25985');
UPDATE `quest_template` SET `PrevQuestId`='25886' WHERE (`Id`='25901');
UPDATE `quest_template` SET `PrevQuestId`='25843' WHERE (`Id`='25899');
UPDATE `quest_template` SET `PrevQuestId`='25904', `NextQuestId`='25886' WHERE (`Id`='25881');
UPDATE `quest_template` SET `PrevQuestId`='25372', `NextQuestId`='25904' WHERE (`Id`='25843');
UPDATE `quest_template` SET `PrevQuestId`='25807', `NextQuestId`='25523' WHERE (`Id`='25810');
UPDATE `quest_template` SET `PrevQuestId`='25600' WHERE (`Id`='25630');
UPDATE `quest_template` SET `PrevQuestId`='25656' WHERE (`Id`='25731');
UPDATE `quest_template` SET `PrevQuestId`='25985', `NextQuestId`='25746' WHERE (`Id`='25740');
UPDATE `quest_template` SET `PrevQuestId`='25740', `NextQuestId`='25761' WHERE (`Id`='25758');
UPDATE `quest_template` SET `PrevQuestId`='25740', `NextQuestId`='25764' WHERE (`Id`='25763');
UPDATE `quest_template` SET `PrevQuestId`='25740', `NextQuestId`='25795' WHERE (`Id`='25776');
UPDATE `quest_template` SET `PrevQuestId`='25317', `NextQuestId`='25323' WHERE (`Id`='25472');
UPDATE `quest_template` SET `PrevQuestId`='25490', `NextQuestId`='25502' WHERE (`Id`='25492');
UPDATE `quest_template` SET `PrevQuestId`='25490', `NextQuestId`='25507' WHERE (`Id`='25493');
UPDATE `quest_template` SET `PrevQuestId`='25308' WHERE (`Id`='25496');
UPDATE `quest_template` SET `PrevQuestId`='25510' WHERE (`Id`='25514');
UPDATE `quest_template` SET `PrevQuestId`='25316' WHERE (`Id`='25460');
UPDATE `quest_template` SET `PrevQuestId`='25510' WHERE (`Id`='25519');
UPDATE `quest_template` SET `PrevQuestId`='25514' WHERE (`Id`='25520');
UPDATE `quest_template` SET `PrevQuestId`='25608', `NextQuestId`='25555' WHERE (`Id`='25554');
UPDATE `quest_template` SET `PrevQuestId`='25312' WHERE (`Id`='25575');
UPDATE `quest_template` SET `PrevQuestId`='25312' WHERE (`Id`='25576');
UPDATE `quest_template` SET `PrevQuestId`='25312' WHERE (`Id`='25577');
UPDATE `quest_template` SET `PrevQuestId`='25312', `NextQuestId`='25600' WHERE (`Id`='25599');
UPDATE `quest_template` SET `PrevQuestId`='25314', `NextQuestId`='25315' WHERE (`Id`='25601');
UPDATE `quest_template` SET `PrevQuestId`='25600' WHERE (`Id`='25611');
UPDATE `quest_template` SET `PrevQuestId`='25600' WHERE (`Id`='25612');
UPDATE `quest_template` SET `PrevQuestId`='25353' WHERE (`Id`='25623');

-- Warchief's Command: Mount Hyjal!
UPDATE `creature_template` SET `AIName`='SmartAI' WHERE (`entry`='15188');
UPDATE `gossip_menu_option` SET `option_id`='1', `npc_option_npcflag`='1' WHERE (`menu_id`='12125') AND (`id`='0');

DELETE FROM `smart_scripts` WHERE `source_type` = '0' AND `entryorguid` = '15188';
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
('15188', '0', '0', '1', '62', '0', '100', '0', '12125', '0', '0', '0', '72', '0', '0', '0', '0', '0', '0', '7', '0', '0', '0', '0', '0', '0', '0', 'Nepenthe-Cenarion Emissary Blackhoof - On gossip option select - Close gossip'),
('15188', '0', '1', '2', '61', '0', '100', '0', '0', '0', '0', '0', '15', '27721', '0', '0', '0', '0', '0', '7', '0', '0', '0', '0', '0', '0', '0', 'Nepenthe-Cenarion Emissary Blackhoof - On gossip option select - Quest Complete 27721'),
('15188', '0', '2', '0', '61', '0', '100', '0', '0', '0', '0', '0', '11', '26448', '0', '0', '0', '0', '0', '7', '0', '0', '0', '0', '0', '0', '0', 'Nepenthe-Cenarion Emissary Blackhoof - On gossip option select - Cast Teleport - Moonglade');

-- [Kysio's report] [9498] Quests - Flames from Above scripted
SET @ENTRY_EMERALD_FLAMEWEAVER := 40856;
SET @GO_ENTRY := 301051;
SET @SPELL_DRAKE_BREATH := 76205;
SET @QUEST := 25574;
SET @OGUID := 11010;

DELETE FROM `gameobject` WHERE `id` = @GO_ENTRY;
INSERT INTO `gameobject` (`guid`, `id`, `map`, `spawnMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation2`, `rotation3`, `spawntimesecs`, `animprogress`, `state`) VALUES ('11010', '301051', '1', '1', '5763.12', '-3296.97', '1604.6', '6.149', '0.0671326', '-0.997744', '90', '255', '1');
DELETE FROM `creature` WHERE `id` = @ENTRY_EMERALD_FLAMEWEAVER;
UPDATE `creature_template` SET `minlevel` = 81, `maxlevel` = 81, `exp` = 3, `faction_A` = 7, `faction_H` = 7, `mindmg` = 1, `baseattacktime` = 2000, `WDBVerified` = 15595, `InhabitType` = 7, `AIName` = "SmartAI" WHERE `entry` = @ENTRY_EMERALD_FLAMEWEAVER;
DELETE FROM `smart_scripts` WHERE `entryorguid` = @ENTRY_EMERALD_FLAMEWEAVER AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES
(@ENTRY_EMERALD_FLAMEWEAVER, 0, 0, 1, 54, 0, 100, 0, 0, 0, 0, 0, 33, @ENTRY_EMERALD_FLAMEWEAVER, 0, 0, 0, 0, 0, 7, 0, 0, 0, 0, 0, 0, 0, "Nepenthe-Emerald Flameweaver - Just Summoned - KC"),
(@ENTRY_EMERALD_FLAMEWEAVER, 0, 1, 2, 61, 0, 100, 0, 0, 0, 0, 0, 53, 1, @ENTRY_EMERALD_FLAMEWEAVER, 0, @QUEST, 120000, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Nepenthe-Emerald Flameweaver - On Just Summoned - Start WP"),
(@ENTRY_EMERALD_FLAMEWEAVER, 0, 2, 0, 61, 0, 100, 0, 0, 0, 0, 0, 11, @SPELL_DRAKE_BREATH, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Nepenthe-Emerald Flameweaver - On Just Summoned - Cast Emerald Flameweaver Drake Breath"),
(@ENTRY_EMERALD_FLAMEWEAVER, 0, 3, 4, 40, 0, 100, 0, 6, 0, 0, 0, 11, @SPELL_DRAKE_BREATH, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Nepenthe-Emerald Flameweaver - On WP 6 Reached - Cast Emerald Flameweaver Drake Breath"),
(@ENTRY_EMERALD_FLAMEWEAVER, 0, 4, 0, 61, 0, 100, 0, 0, 0, 0, 0, 41, 3000, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, "Nepenthe-Emerald Flameweaver - On WP 6 Reached - Delayed Despawn");
DELETE FROM `waypoints` WHERE `entry` = @ENTRY_EMERALD_FLAMEWEAVER;
INSERT INTO `waypoints` (`entry`, `pointid`, `position_x`, `position_y`, `position_z`, `point_comment`) VALUES
(@ENTRY_EMERALD_FLAMEWEAVER, 1, 5755.74, -3301.07, 1604.59, "Emerald Flameweaver WP 1"),
(@ENTRY_EMERALD_FLAMEWEAVER, 2, 5761.17, -3310.05, 1611.23, "Emerald Flameweaver WP 2"),
(@ENTRY_EMERALD_FLAMEWEAVER, 3, 5774.52, -3306.65, 1611.97, "Emerald Flameweaver WP 3"),
(@ENTRY_EMERALD_FLAMEWEAVER, 4, 5771.87, -3295.59, 1616.14, "Emerald Flameweaver WP 4"),
(@ENTRY_EMERALD_FLAMEWEAVER, 5, 5761.70, -3286.94, 1609.96, "Emerald Flameweaver WP 5"),
(@ENTRY_EMERALD_FLAMEWEAVER, 6, 5760.41, -3299.26, 1604.59, "Emerald Flameweaver WP 6");
DELETE FROM `spell_target_position` WHERE `id` = @SPELL_DRAKE_BREATH;
INSERT INTO `spell_target_position` (`id`, `effIndex`, `target_map`, `target_position_x`, `target_position_y`, `target_position_z`, `target_orientation`) VALUES
(@SPELL_DRAKE_BREATH, 0, 1, 5762.917969, -3286.747314, 1604.600830, 2.187412);


-- [SQL] [Blue's report] [10417] Quests - Flamebreaker scripted
SET @ENTRY_BLAZEBOUND_ELEMENTAL := 38896;
SET @ENTRY_UNBOUND_FLAME_SPIRIT := 40065;
SET @SPELL_FLAMING_SLICE := 80031;
SET @SPELL_FLAMEBREAKER := 75206;
DELETE FROM `creature_template` WHERE `entry` = @ENTRY_UNBOUND_FLAME_SPIRIT;
INSERT INTO `creature_template` (`entry`, `modelid1`, `name`, `minlevel`, `maxlevel`, `exp`, `faction_A`, `faction_H`, `rank`, `mindmg`, `maxdmg`, `attackpower`, `dmg_multiplier`, `baseattacktime`, `unit_class`, `unit_flags`, `unit_flags2`, `dynamicflags`, `type`, `Health_mod`, `flags_extra`) VALUES ('40065', '31320', 'Unbound Flame Spirit', '80', '80', '3', '2234', '2234', '5', '200', '300', '400', '2', '2400', '2', '32768', '2048', '132', '4', '0.1', '64');
UPDATE `creature_template` SET `KillCredit1`='40065', `modelid1`='31320', `dmg_multiplier`='10', `unit_flags`='0' WHERE (`entry`='40080');
UPDATE `creature_template` SET `exp` = '3', `faction_A` = '2234', `faction_H` = '2234', `speed_walk` = '1.55556', `mindmg` = '391', `maxdmg` = '585', `attackpower` = '146', `dmg_multiplier` = '37.7', `unit_class` = '2', `unit_flags` = '32768', `InhabitType` = '3' WHERE `entry` = @ENTRY_BLAZEBOUND_ELEMENTAL;
UPDATE `creature_template` SET `minlevel` = '80', `maxlevel` = '80', `exp` = '3', `faction_A` = '2234', `faction_H` = '2234', `dmg_multiplier` = '2', `baseattacktime` = '2400', `unit_class` = '2', `unit_flags` = '32768', `WDBVerified` = '15595' WHERE `entry` = @ENTRY_UNBOUND_FLAME_SPIRIT;
DELETE FROM `smart_scripts` WHERE `entryorguid` = @ENTRY_BLAZEBOUND_ELEMENTAL AND `source_type` = '0';
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`) VALUES 
(@ENTRY_BLAZEBOUND_ELEMENTAL, '0', '0', '0', '0', '0', '100', '0', '1000', '2000', '8000', '9000', '11', @SPELL_FLAMING_SLICE, '0', '0', '0', '0', '0', '2', '0', '0', '0', '0', '0', '0', '0', "Nepenthe-Blazebound Elemental - IC - Cast Flaming Slice"),
(@ENTRY_BLAZEBOUND_ELEMENTAL, '0', '1', '0', '8', '0', '100', '0', @SPELL_FLAMEBREAKER, '0', '60000', '60000', '41', '0', '0', '0', '0', '0', '0', '1', '0', '0', '0', '0', '0', '0', '0', "Nepenthe-Blazebound Elemental - On Spellhit - Despawn");
DELETE FROM `conditions` WHERE `SourceTypeOrReferenceId` = '17' AND `SourceEntry` = @SPELL_FLAMEBREAKER;
INSERT INTO `conditions` (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `SourceId`, `ElseGroup`, `ConditionTypeOrReference`, `ConditionTarget`, `ConditionValue1`, `ConditionValue2`, `ConditionValue3`, `NegativeCondition`, `ErrorType`, `ErrorTextId`, `ScriptName`, `Comment`) VALUES
('17','0',@SPELL_FLAMEBREAKER,'0','0','31','1','3',@ENTRY_BLAZEBOUND_ELEMENTAL,'0','0','0','0','',"Flameseer's Staff targets Blazebound Elemental");

UPDATE `quest_template` SET `Method`='2' WHERE (`Id`='25323');
